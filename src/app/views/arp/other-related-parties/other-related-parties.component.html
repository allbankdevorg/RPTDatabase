<c-container fluid class="mb-3 p-0 position-relative">
    <c-row>
        <c-col xs>
            <c-card class="mb-4">
                <c-card-header class="d-flex justify-content-between align-items-center">
                    <h2>Companies Under JMN</h2>
                    
                </c-card-header>
                <c-row>
                  <c-container class="my-1 d-flex justify-content-between align-items-center">
                    <div></div>
                    <button class="mx-1" [cModalToggle]="staticBackdropModal.id" mat-fab extended color="primary" (click)="onButtonClick('JMN')">
                      <mat-icon>add</mat-icon>
                      ADD
                  </button>
                  </c-container>
                </c-row>
            </c-card>
        </c-col>
    </c-row>
</c-container>

<div id="org-chart-container" appResizable class="org-chart-container">
</div>
<!--PopOver-->
<div #nodePopover id="nodePopover" class="pop" style="display: none;">
    <h5>Node Details</h5>
    <p id="nodeDetails" #nodeDetails></p>
</div>



                        <div class="modal fade" #actionModal tabindex="-1" role="dialog" aria-labelledby="actionModalLabel" aria-hidden="true">
  
                            <div class="modal-dialog" role="document">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h5 class="modal-title" id="actionModalLabel">Select an Action</h5>
                                  <button (click)="closeModal()" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <button class="btn btn-primary" id="addButton">Add Child</button>
                                  <button class="btn btn-primary" id="updateButton">Update Node</button>
                                  <button class="btn btn-primary" id="detailsButton">Show Details</button>
                                </div>
                              </div>
                            </div>
                        </div>


<!-- Modal Dialog for Actions -->

<!-- Modals -->
<c-modal #staticBackdropModal backdrop="static" id="staticBackdropModal" size="lg">
    <c-modal-header>
      <h3 cModalTitle>Add Affiliates Company</h3>
      <button [cModalToggle]="staticBackdropModal.id" cButtonClose></button>
    </c-modal-header>
  
    <form cForm class="mb-2" [formGroup]="affForm" (ngSubmit)="onSubmit()">
      <c-modal-body>
        <c-row class="align-items-center">
          
          <c-col [sm]="6">
              <label cLabel="col" for="affilCisNumberM">CIS Number</label>
              <mat-form-field appearance="fill" [style.width.%]=100>
                <!-- <mat-label>CIS Number</mat-label> -->
                <input matInput #accDinput id="affilCisNumberM" name="affilCisNumberM"
                type="text" placeholder="CIS"
                formControlName="affilCisNumberM" appNum>
                <mat-error *ngIf="affForm.get('affilCisNumberM')?.hasError('required')" class="error-msg">CIS Number is Required</mat-error>
              </mat-form-field>
          </c-col>
  
          <c-col [sm]="6">
              <label cLabel="col" for="accountName">Account Name</label>
              <mat-form-field appearance="fill" [style.width.%]=100>
                <!-- <mat-label>Account Name</mat-label> -->
                <input matInput #accDinput id="accountName"  name="accountName"
                type="text" placeholder="Account Name"
                formControlName="accountName" appCaps>
                <mat-error *ngIf="affForm.get('accountName')?.hasError('required')" class="error-msg">Account Name is Required</mat-error>
              </mat-form-field>
          </c-col>
        </c-row>

        <c-row class="align-items-center">
  
          <c-col [sm]="6">
            <label cLabel="col" for="companyName">Company Name</label>
            <mat-form-field appearance="fill" [style.width.%]=100>
              <!-- <mat-label>Company Name</mat-label> -->
              <input matInput #accDinput id="companyName" name="companyName"
              type="text" placeholder="Company Name"
              formControlName="companyName" appCaps>
              <mat-error *ngIf="affForm.get('companyName')?.hasError('required')" class="error-msg">Company Name is Required</mat-error>
            </mat-form-field>
          </c-col>
  
          <c-col [sm]="6">
            <label cLabel="col" for="MngComp">Parent Company</label>
            <mat-form-field appearance="fill" [style.width.%]="100">
              <mat-select formControlName="commandControl" placeholder="Managing Company">
                <mat-option id="MngComp">-- None --</mat-option>
                <mat-option *ngFor="let group of commandGroups" [value]="group.value">
                  {{ group.viewValue }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </c-col>
        </c-row>
      </c-modal-body>
      <c-modal-footer>
        <button type="submit" cButton color="success" class="proceed" [disabled]="!affForm.valid">Proceed</button>
      </c-modal-footer>
    </form>
        
  </c-modal>